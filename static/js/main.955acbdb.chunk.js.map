{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","addWillWatch","movie","setState","willWatch","props","addMovieToWillWatchList","removeWillWatch","removeMovieFromWillWatch","state","this","removeMovie","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","bind","React","PureComponent","MovieTabs","sort_by","updateSortBy","handleClick","value","event","getClassByValue","App","getMovies","fetch","then","response","json","data","movies","results","updateList","filter","item","id","updateMovieWillWatch","moviesWillWatch","updateWillWatch","push","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.955acbdb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nclass MovieItem extends React.PureComponent {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            willWatch: false\r\n        }\r\n\r\n    }\r\n\r\n    // componentWillUnmount() {\r\n    //     console.log('unmount ', this.props.movie.title)\r\n    // }\r\n\r\n    addWillWatch = (movie) => {\r\n        this.setState({\r\n            willWatch: true\r\n        });\r\n        this.props.addMovieToWillWatchList(movie)\r\n    }\r\n\r\n    removeWillWatch = movie => {\r\n        this.setState({\r\n            willWatch: false\r\n        });\r\n        this.props.removeMovieFromWillWatch(movie)\r\n    }\r\n\r\n    render() {\r\n        const { movie, removeMovie, addMovieToWillWatchList, removeMovieFromWillWatch } = this.props\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                        movie.poster_path}`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        {this.state.willWatch ?\r\n                            <button type=\"button\" className=\"btn btn-success\" onClick={this.removeWillWatch.bind(this, movie)}>\r\n                                Remove 'Will Watch'\r\n                            </button> : <button type=\"button\" className=\"btn btn-secondary\" onClick={this.addWillWatch.bind(this, movie)}>\r\n                                Add 'Will Watch'\r\n                             </button>\r\n                        }\r\n\r\n                    </div>\r\n                    <button type=\"button\" onClick={removeMovie.bind(this, movie)}>Delete Movie</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default MovieItem\r\n","import React from 'react'\r\n\r\nconst MovieTabs = (props) => {\r\n    const { sort_by, updateSortBy } = props\r\n    const handleClick = (value) => {\r\n        return event => updateSortBy(value)\r\n\r\n    }\r\n\r\n    const getClassByValue = (value) => {\r\n        return `nav-link \r\n        ${props.sort_by === value ? \"active\" : \"\"}`\r\n    }\r\n\r\n\r\n    return (\r\n        <ul className=\"tabs nav nav-pills\">\r\n            <li className=\"nav-item\">\r\n                <div className={getClassByValue('popularity.desc')}\r\n                    onClick={handleClick('popularity.desc')}>\r\n                    Popularity\r\n    </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div className={getClassByValue('revenue.desc')}\r\n                    onClick={handleClick('revenue.desc')}>\r\n                    Revenue\r\n    </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div className={getClassByValue('vote_average.desc')}\r\n                    onClick={handleClick('vote_average.desc')}>\r\n                    Average\r\n    </div>\r\n            </li>\r\n        </ul>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default MovieTabs","import React from 'react';\n// import moviesData from '../moviesData'\nimport MovieItem from './MovieItem'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { API_URL, API_KEY_3 } from '../utils/api'\nimport MovieTabs from './MovieTabs'\nimport '../App.css'\n\n\n//UI = fn(state, props)\n// console.log(moviesData)\n\nclass App extends React.PureComponent {\n  constructor() {\n    super()\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 'popularity.desc'\n    }\n  }\n\n  componentDidMount() {\n    // console.log('didMounted')\n    this.getMovies()\n    // console.log('after fetch')\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log('didUpdated: ', prevProps, + ' ', prevState)\n    // console.log('new', this.props, this.state)\n\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.getMovies()\n    }\n  }\n\n  getMovies = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`).then(response => {\n      // console.log('then')\n      return response.json()\n    }).then(data => {\n      // console.log('data', data)\n      this.setState({\n        movies: data.results\n      })\n    })\n  }\n\n  removeMovie = movie => {\n    const updateList = this.state.movies.filter((item) => {\n      return item.id !== movie.id\n    })\n    // console.log(updateList)\n    this.setState({\n      movies: updateList\n    })\n  }\n\n  removeMovieFromWillWatch = movie => {\n    const updateMovieWillWatch = this.state.moviesWillWatch.filter((item) => {\n      return item.id !== movie.id\n    })\n\n    this.setState({\n      moviesWillWatch: updateMovieWillWatch\n    })\n\n  }\n\n  addMovieToWillWatchList = movie => {\n    const updateWillWatch = [...this.state.moviesWillWatch]\n    updateWillWatch.push(movie);\n    this.setState({\n      moviesWillWatch: updateWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value\n    })\n  }\n\n  render() {\n    // console.log(this)\n\n    return (\n      <div className=\"conteiner\">\n        <div className=\"row ml-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4 mt-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-4 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatchList={this.addMovieToWillWatchList}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch} />\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n          <div className=\"col-3 mt-4\">\n            <p>Will Watch: {this.state.moviesWillWatch.length} movies</p>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\n// function App() {\n//   return (\n//     <div>\n//       {moviesData[1].title}\n//     </div>\n//   );\n// }\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}